// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model CigratteIndustry{
   id Int @id @default(autoincrement())
   name String
   address String
   users User[]
   workShops WorkShop[]
   isArchived Boolean @default(false)
}

model User{
  id Int @id @default(autoincrement())
  name String
  email String @unique
  cigratteIndustry CigratteIndustry @relation(fields: [cigratteIndustryId],references: [id])
  cigratteIndustryId Int
  isArchived Boolean @default(false)
}

model WorkShop{
  id Int @id @default(autoincrement())
  name String
  cigratteIndustry CigratteIndustry @relation(fields: [cigratteIndustryId],references: [id])
  cigratteIndustryId Int
  garage Garage[]
  typeOfLeaf TypeOfLeaf[]
  typeOfFilterSize TypeOfFilterSize[]
  typeOfTabacco TypeOfTabacco[]
  typeOfLabel TypeOfLabel[]
  typeOfCheroot TypeOfCheroot[]
  conveyLocation ConveyLocation[]
  typeOfPacking TypeOfPacking[]
  formOfPacking FormOfPacking[]
  packing Packing[]
  expensiveLabel ExpensiveLabel[]
  dailyExpensive DailyExpensive[]
  conveying Conveying[]
  mainMoney MainMoney[]
  replenishmentMoney ReplenishmentMoney[]
  closingDailyBalance ClosingDailyBalance[]
  closingMainBalance ClosingMainBalance[]
  mainDirectPayment MainDirectPayment[]
  payLeaf PayLeaf[]
  discountViss DiscountViss[]
  payOtherItem PayOtherItem[]
  returnReadyCheroot ReturnReadyCheroot[]
  leafDeduction LeafDeduction[]
  otherDeduction OtherDeduction[]
  extraPurchase ExtraPurchase[]
  agentLeafViss AgentLeafViss[]
  agent Agent[]
  formula Formula[]
  isArchived Boolean @default(false)
}

model Agent{
  id Int @id @default(autoincrement())
  name String
  phoneNo Int
  adderess String
  cashBalcanceBig Int
  cashBalcanceSmall Int
  workShop WorkShop @relation(fields: [workShopId],references: [id])
  workShopId Int
  agentLeafViss AgentLeafViss[]
  payLeaf PayLeaf[]
  discountViss DiscountViss[]
  payOtherItem PayOtherItem[]
  returnReadyCheroot ReturnReadyCheroot[]
  otherDeduction OtherDeduction[]
  leafDeduction LeafDeduction[]
  extraPurchase ExtraPurchase[]
  isArchived Boolean @default(false)
}

model Garage{
  id Int @id @default(autoincrement())
  name String
  workShop WorkShop @relation(fields: [workShopId],references: [id])
  workShopId Int
  addStock AddStock[]
  leaf Leaf[]
  filterSize FilterSize[]
  tabacco Tabacco[]
  label Label[]
  payLeaf PayLeaf[]
  payOtherItem PayOtherItem[]
  extraPurchase ExtraPurchase[]
  leafTransferGarage LeafTransferGarage[]
  filterSizeTransferGarage FilterSizeTransferGarage[]
  tabaccoTransferGarage TabaccoTransferGarage[]
  labelTransferGarage LabelTransferGarage[]
  isArchived Boolean @default(false)
}

model TypeOfLeaf{
  id Int @id @default(autoincrement())
  name String
  price Int @default(0)
  workShop WorkShop @relation(fields: [workShopId],references: [id])
  workShopId Int
  agentLeafViss AgentLeafViss[]
  addStock AddStock[]
  leaf Leaf[]
  payLeaf PayLeaf[]
  leafDeduction LeafDeduction[]
  leafTransferGarage LeafTransferGarage[]
  isArchived Boolean @default(false)
  isAvariabled Boolean @default(false)
}

model TypeOfFilterSize{
  id Int @id @default(autoincrement())
  name String
  price Int @default(0)
  workShop WorkShop @relation(fields: [workShopId],references: [id])
  workShopId Int
  addStock AddStock[]
  filterSize FilterSize[]
  payOtherItem PayOtherItem[]
  extraPurchase ExtraPurchase[]
  filterSizeTransferGarage FilterSizeTransferGarage[]
  formula Formula[]
  isArchived Boolean @default(false)
  isAvariabled Boolean @default(false)
}

model TypeOfTabacco{
  id Int @id @default(autoincrement())
  name String
  price Int @default(0)
  workShop WorkShop @relation(fields: [workShopId],references: [id])
  workShopId Int
  addStock AddStock[]
  tabacco Tabacco[]
  payOtherItem PayOtherItem[]
  extraPurchase ExtraPurchase[]
  tabaccoTransferGarage TabaccoTransferGarage[]
  formula Formula[]
  isArchived Boolean @default(false)
  isAvariabled Boolean @default(false)
}

model TypeOfLabel{
  id Int @id @default(autoincrement())
  name String
  price Int @default(0)
  workShop WorkShop @relation(fields: [workShopId],references: [id])
  workShopId Int
  addStock AddStock[]
  label Label[]
  payOtherItem PayOtherItem[]
  extraPurchase ExtraPurchase[]
  labelTransferGarage LabelTransferGarage[]
  isArchived Boolean @default(false)
  isAvariabled Boolean @default(false)
}


model Leaf{
  id Int @id @default(autoincrement())
  date String
  typeOfLeaf TypeOfLeaf @relation(fields: [typeOfLeafId],references: [id])
  typeOfLeafId Int
  batchNo Int
  viss Int
  shop String
  garage Garage @relation(fields: [garageId],references: [id])
  garageId Int
  isArchived Boolean @default(false)
}

model FilterSize{
  id Int @id @default(autoincrement())
  date String
  typeOfFilterSize TypeOfFilterSize @relation(fields: [typeOfFilterSizeId],references: [id])
  typeOfFilterSizeId Int
  quantity Int
  bag Int
  shop String
  garage Garage @relation(fields: [garageId],references: [id])
  garageId Int
  isArchived Boolean @default(false)
}

model Tabacco{
  id Int @id @default(autoincrement())
  date String
  typeOfTabacco TypeOfTabacco @relation(fields: [typeOfTabaccoId],references: [id])
  typeOfTabaccoId Int
  tin Int
  pyi Int
  bag Int
  shop String
  garage Garage @relation(fields: [garageId],references: [id])
  garageId Int
  isArchived Boolean @default(false)
}

model Label{
  id Int @id @default(autoincrement())
  date String
  typeOfLabel TypeOfLabel @relation(fields: [typeOfLabelId],references: [id])
  typeOfLabelId Int
  bandle Int
  shop String
  garage Garage @relation(fields: [garageId],references: [id])
  garageId Int
  isArchived Boolean @default(false)
}

model AgentLeafViss{
  id Int @id @default(autoincrement())
  agent Agent @relation(fields: [agentId],references: [id])
  agentId Int
  typeOfLeaf TypeOfLeaf @relation(fields: [typeOfLeafId],references: [id])
  typeOfLeafId Int
  viss Int 
  workShop WorkShop @relation(fields: [workShopId],references: [id])
  workShopId Int
  isArchived Boolean @default(false)
}

model TypeOfCheroot{
  id Int @id @default(autoincrement())
  name String
  price Int @default(0)
  workShop WorkShop @relation(fields: [workShopId],references: [id])
  workShopId Int
  typeOfPacking TypeOfPacking[]
  formOfPacking FormOfPacking[]
  packing Packing[]
  conveying Conveying[]
  payOtherItem PayOtherItem[]
  returnReadyCheroot ReturnReadyCheroot[]
  formula Formula[]
  isArchived Boolean @default(false)
  isAvariabled Boolean @default(false)
}

model TypeOfPacking{
  id Int @id @default(autoincrement())
  name String
  typeOfCheroot TypeOfCheroot @relation(fields: [typeOfCherootId],references: [id])
  typeOfCherootId Int
  workShop WorkShop @relation(fields: [workShopId],references: [id])
  workShopId Int
  formOfPacking FormOfPacking[]
  packing Packing[]
  conveying Conveying[]
  isArchived Boolean @default(false)
}

model FormOfPacking{
  id Int @id @default(autoincrement())
  name String
  typeOfCheroot TypeOfCheroot @relation(fields: [typeOfCherootId],references: [id])
  typeOfCherootId Int
  typeOfPacking TypeOfPacking @relation(fields: [typeOfPackingId],references: [id])
  typeOfPackingId Int
  quantity Int @default(0)
  workShop WorkShop @relation(fields: [workShopId],references: [id])
  workShopId Int
  packing Packing[]
  conveying Conveying[]
  isArchived Boolean @default(false)
}

model Packing{
  id Int @id @default(autoincrement())
  date String
  typeOfCheroot TypeOfCheroot @relation(fields: [typeOfCherootId],references: [id])
  typeOfCherootId Int
  typeOfPacking TypeOfPacking @relation(fields: [typeOfPackingId],references: [id])
  typeOfPackingId Int
  formOfPacking FormOfPacking @relation(fields: [formOfPackingId],references: [id])
  formOfPackingId Int
  quantity Int
  workShop WorkShop @relation(fields: [workShopId],references: [id])
  workShopId Int
}

model ConveyLocation{
  id Int @id @default(autoincrement())
  name String
  workShop WorkShop @relation(fields: [workShopId],references: [id])
  workShopId Int
  conveying Conveying[]
  mainMoney MainMoney[]
  isArchived Boolean @default(false)
}

model Conveying{
  id Int @id @default(autoincrement())
  date String
  conveyLocation ConveyLocation @relation(fields: [conveyLocationId],references: [id])
  conveyLocationId Int
  typeOfCheroot TypeOfCheroot @relation(fields: [typeOfCherootId],references: [id])
  typeOfCherootId Int
  typeOfPacking TypeOfPacking @relation(fields: [typeOfPackingId],references: [id])
  typeOfPackingId Int
  formOfPacking FormOfPacking @relation(fields: [formOfPackingId],references: [id])
  formOfPackingId Int
  quantity Int
  workShop WorkShop @relation(fields: [workShopId],references: [id])
  workShopId Int
  isArchived Boolean @default(false)
}

// model Town{
//   id Int @id @default(autoincrement())
//   name String
//   workShop WorkShop @relation(fields: [workShopId],references: [id])
//   workShopId Int
//   mainMoney MainMoney[]
//   isArchived Boolean @default(false)
// }

model ExpensiveLabel{
  id Int @id @default(autoincrement())
  name String
  workShop WorkShop @relation(fields: [workShopId],references: [id])
  workShopId Int
  isAvariabled Boolean @default(false)
  dailyExpensive DailyExpensive[]
  isArchived Boolean @default(false)
}

model DailyExpensive{
  id Int @id @default(autoincrement())
  date String
  expensiveLabel ExpensiveLabel @relation(fields: [expensiveLabelId],references: [id])
  expensiveLabelId Int
  content String
  amount Int @default(0)
  workShop WorkShop @relation(fields: [workShopId],references: [id])
  workShopId Int
  isArchived Boolean @default(false)
}

model MainMoney{
  id Int @id @default(autoincrement())
  date String
  location ConveyLocation @relation(fields: [locationId],references: [id])
  locationId Int
  amount Int @default(0)
  workShop WorkShop @relation(fields: [workShopId],references: [id])
  workShopId Int
  isArchived Boolean @default(false)
}

model ReplenishmentMoney{
  id Int @id @default(autoincrement())
  date String
  amount Int @default(0)
  workShop WorkShop @relation(fields: [workShopId],references: [id])
  workShopId Int
  isArchived Boolean @default(false) 
}

model ClosingMainBalance{
  id Int @id @default(autoincrement())
  date String
  amount Int @default(0)
  workShop WorkShop @relation(fields: [workShopId],references: [id])
  workShopId Int
  isArchived Boolean @default(false)
}

model ClosingDailyBalance{
  id Int @id @default(autoincrement())
  date String
  amount Int @default(0)
  workShop WorkShop @relation(fields: [workShopId],references: [id])
  workShopId Int
  isArchived Boolean @default(false)
}

model MainDirectPayment{
  id Int @id @default(autoincrement())
  date String
  tilte String
  amount Int @default(0)
  workShop WorkShop @relation(fields: [workShopId],references: [id])
  workShopId Int
  isArchived Boolean @default(false)
}

model AddStock{
  id Int @id @default(autoincrement())
  date String
  invNo Int
  carNo String
  typeOfLeaf TypeOfLeaf? @relation(fields: [typeOfLeafId],references: [id])
  typeOfLeafId Int? 
  typeOfFilterSize TypeOfFilterSize? @relation(fields: [typeOfFilterSizeId],references: [id])
  typeOfFilterSizeId Int?
  typeOfTabacco TypeOfTabacco? @relation(fields: [typeOfTabaccoId],references: [id])
  typeOfTabaccoId Int?
  typeOfLabel TypeOfLabel? @relation(fields: [typeOfLabelId],references: [id])
  typeOfLabelId Int?
  garage Garage @relation(fields: [garageId],references: [id])
  garageId Int
  isArchived Boolean @default(false)
}

model PayLeaf{
  id Int @id @default(autoincrement())
  date String
  agent Agent @relation(fields: [agentId],references: [id])
  agentId Int
  typeOfLeaf TypeOfLeaf @relation(fields: [typeOfLeafId],references: [id])
  typeOfLeafId Int
  batchNo Int
  viss Int
  discountViss Int @default(0)
  netViss Int
  price Int 
  amount Int 
  garage Garage @relation(fields: [garageId],references: [id])
  garageId Int
  workShop WorkShop @relation(fields: [workShopId],references: [id])
  workShopId Int
  isArchived Boolean @default(false)
}

model DiscountViss{
  id Int @id @default(autoincrement())
  date String
  agent Agent @relation(fields: [agentId],references: [id])
  agentId Int
  discountViss Int @default(0)
  discountAmount Int @default(0)
  workShop WorkShop @relation(fields: [workShopId],references: [id])
  workShopId Int
  isArchived Boolean @default(false)
}

model PayOtherItem{
  id Int @id @default(autoincrement())
  date String
  agent Agent @relation(fields: [agentId],references: [id])
  agentId Int
  typeOfCheroot TypeOfCheroot @relation(fields: [typeOfCherootId],references: [id])
  typeOfCherootId Int
  cherootQty Int
  typeOfFilterSize TypeOfFilterSize @relation(fields: [typeOfFilterSizeId],references: [id])
  typeOfFilterSizeId Int
  filterSizeQty Int
  filterSizeBag Int
  typeOfTabacco TypeOfTabacco @relation(fields: [typeOfTabaccoId],references: [id])
  typeOfTabaccoId Int
  tabaccoQty Int
  tabaccoTin Int
  tabaccoPyi Int
  typeOfLabel TypeOfLabel @relation(fields: [typeOfLabelId],references: [id])
  typeOfLabelId Int
  labelBandle Int
  totalPrice Int @default(0)
  garage Garage @relation(fields: [garageId],references: [id])
  garageId Int
  workShop WorkShop @relation(fields: [workShopId],references: [id])
  workShopId Int
  isArchived Boolean @default(false)
}

model ReturnReadyCheroot{
  id Int @id @default(autoincrement())
  date String
  agent Agent @relation(fields: [agentId],references: [id])
  agentId Int
  typeOfCheroot TypeOfCheroot @relation(fields: [typeOfCherootId],references: [id])
  typeOfCherootId Int
  goodQty Int
  damage Int
  totalCherootQty Int
  goodPrice Int
  amount Int
  workShop WorkShop @relation(fields: [workShopId],references: [id])
  workShopId Int
  isArchived Boolean @default(false)
}

model LeafDeduction{
  id Int @id @default(autoincrement())
  date String
  agent Agent @relation(fields: [agentId],references: [id])
  agentId Int
  typeOfLeaf TypeOfLeaf @relation(fields: [typeOfLeafId],references: [id])
  typeOfLeafId Int
  deductViss Int
  price Int 
  deductionAmount Int
  workShop WorkShop @relation(fields: [workShopId],references: [id])
  workShopId Int
  isArchived Boolean @default(false)
}

model OtherDeduction{
  id Int @id @default(autoincrement())
  date String
  agent Agent @relation(fields: [agentId],references: [id])
  agentId Int
  cashAdvanceBigDeduction Int
  cashAdvanceSmallDeduction Int
  otherDeduction Int
  cashAdvanceBig Int
  cashAdvanceSmall Int
  netAgentPayment Int
  bonusPayment Int
  totalNetAgentPayment Int
  workShop WorkShop @relation(fields: [workShopId],references: [id])
  workShopId Int
  isArchived Boolean @default(false)
}

model ExtraPurchase{
  id Int @id @default(autoincrement())
  date String
  agent Agent @relation(fields: [agentId],references: [id])
  agentId Int
  typeOfFilterSize TypeOfFilterSize @relation(fields: [typeOfFilterSizeId],references: [id])
  typeOfFilterSizeId Int
  filterSizeQty Int @default(0)
  filterSizeBag Int  @default(0)
  filterSizePrice Int  @default(0)
  filterSizeAmount Int  @default(0)
  typeOfTabacco TypeOfTabacco @relation(fields: [typeOfTabaccoId],references: [id])
  typeOfTabaccoId Int
  tabaccoQty Int  @default(0)
  tabaccoTin Int  @default(0)
  tabaccoPyi Int  @default(0)
  tabaccoBag Int  @default(0)
  tabaccoPrice Int  @default(0)
  tabaccoAmount Int  @default(0)
  typeOfLabel TypeOfLabel @relation(fields: [typeOfLabelId],references: [id])
  typeOfLabelId Int
  labelBandle Int  @default(0)
  labelPrice Int  @default(0)
  labelAmount Int  @default(0)
  totalAmount Int  @default(0)
  garage Garage @relation(fields: [garageId],references: [id])
  garageId Int
  workShop WorkShop @relation(fields: [workShopId],references: [id])
  workShopId Int
  isArchived Boolean @default(false)
}

model LeafTransferGarage{
  id Int @id @default(autoincrement())
  date String
  // exitGarage Garage @relation(fields: [exitGarageId],references: [id])
  // exitGarageId Int
  enterenceGarage Garage @relation(fields: [enterenceGarageId],references: [id])
  enterenceGarageId Int
  typeOfLeaf TypeOfLeaf @relation(fields: [typeOfLeafId],references: [id])
  typeOfLeafId Int
  batchNo Int
  isArchived Boolean @default(false)
}

model FilterSizeTransferGarage{
  id Int @id @default(autoincrement())
  date String
  // exitGarage Garage @relation(fields: [exitGarageId],references: [id])
  // exitGarageId Int
  enterenceGarage Garage @relation(fields: [enterenceGarageId],references: [id])
  enterenceGarageId Int
  typeOfFilterSize TypeOfFilterSize @relation(fields: [typeOfFilterSizeId],references: [id])
  typeOfFilterSizeId Int
  batchNo Int
  isArchived Boolean @default(false)
}

model TabaccoTransferGarage{
  id Int @id @default(autoincrement())
  date String
  // exitGarage Garage @relation(fields: [exitGarageId],references: [id])
  // exitGarageId Int
  enterenceGarage Garage @relation(fields: [enterenceGarageId],references: [id])
  enterenceGarageId Int
  typeOfTabacco TypeOfTabacco @relation(fields: [typeOfTabaccoId],references: [id])
  typeOfTabaccoId Int
  batchNo Int
  isArchived Boolean @default(false)
}


model LabelTransferGarage{
  id Int @id @default(autoincrement())
  date String
  // exitGarage Garage @relation(fields: [exitGarageId],references: [id])
  // exitGarageId Int
  enterenceGarage Garage @relation(fields: [enterenceGarageId],references: [id])
  enterenceGarageId Int
  typeOfLabel TypeOfLabel @relation(fields: [typeOfLabelId],references: [id])
  typeOfLabelId Int
  batchNo Int
  isArchived Boolean @default(false)
}

model Formula{
  id Int @id @default(autoincrement())
  typeOfCheroot TypeOfCheroot @relation(fields: [typeOfCherootId],references: [id])
  typeOfCherootId Int
  cherootQty Int
  typeOfFilterSize TypeOfFilterSize @relation(fields: [typeOfFilterSizeId],references: [id])
  typeOfFilterSizeId Int
  filterSizeQty Int
  filterSizeBag Int
  typeOfTabacco TypeOfTabacco @relation(fields: [typeOfTabaccoId],references: [id])
  typeOfTabaccoId Int
  tabaccoQty Int
  tabaccoTin Int
  tabaccoPyi Int
  workShop WorkShop @relation(fields: [workShopId],references: [id])
  workShopId Int
  isArchived Boolean @default(false)
}